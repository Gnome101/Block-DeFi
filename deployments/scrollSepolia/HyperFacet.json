{
  "address": "0x66946Ddfa082AAf20ff32cee2A4433b8a49F5BDb",
  "abi": [
    {
      "inputs": [],
      "name": "getCounter",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "handle",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint32",
          "name": "domain",
          "type": "uint32"
        },
        {
          "internalType": "uint256",
          "name": "gasAmount",
          "type": "uint256"
        }
      ],
      "name": "hitEmUp",
      "outputs": [],
      "stateMutability": "payable",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "interchainSecurityModule",
      "outputs": [
        {
          "internalType": "address",
          "name": "",
          "type": "address"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "domainID",
          "type": "uint256"
        },
        {
          "internalType": "address",
          "name": "recipentAddy",
          "type": "address"
        }
      ],
      "name": "setDomainToAddress",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "localIGP",
          "type": "address"
        }
      ],
      "name": "setGasMaster",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "ism",
          "type": "address"
        }
      ],
      "name": "setISM",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "maiLBox",
          "type": "address"
        }
      ],
      "name": "setMailBox",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    }
  ],
  "transactionHash": "0x85db773b2f183e95de40270ad50c636c81e103cbc88aa195fb4938abf8c25467",
  "receipt": {
    "to": null,
    "from": "0x19d96301865fdD07427db3c445508A051BC6D352",
    "contractAddress": "0x66946Ddfa082AAf20ff32cee2A4433b8a49F5BDb",
    "transactionIndex": 3,
    "gasUsed": "375137",
    "logsBloom": "0x00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000",
    "blockHash": "0x7fa3ee7a3c08235f1a18f854bc4237ca44cd414aa989e9a52ec4c685569a9710",
    "transactionHash": "0x85db773b2f183e95de40270ad50c636c81e103cbc88aa195fb4938abf8c25467",
    "logs": [],
    "blockNumber": 1686764,
    "cumulativeGasUsed": "935240",
    "status": 1,
    "byzantium": true
  },
  "args": [],
  "numDeployments": 1,
  "solcInputHash": "8d503a1c4c23ab5ce17d08185836559c",
  "metadata": "{\"compiler\":{\"version\":\"0.8.20+commit.a1b79de6\"},\"language\":\"Solidity\",\"output\":{\"abi\":[{\"inputs\":[],\"name\":\"getCounter\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"handle\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint32\",\"name\":\"domain\",\"type\":\"uint32\"},{\"internalType\":\"uint256\",\"name\":\"gasAmount\",\"type\":\"uint256\"}],\"name\":\"hitEmUp\",\"outputs\":[],\"stateMutability\":\"payable\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"interchainSecurityModule\",\"outputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"domainID\",\"type\":\"uint256\"},{\"internalType\":\"address\",\"name\":\"recipentAddy\",\"type\":\"address\"}],\"name\":\"setDomainToAddress\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"localIGP\",\"type\":\"address\"}],\"name\":\"setGasMaster\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"ism\",\"type\":\"address\"}],\"name\":\"setISM\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"maiLBox\",\"type\":\"address\"}],\"name\":\"setMailBox\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"}],\"devdoc\":{\"kind\":\"dev\",\"methods\":{},\"version\":1},\"userdoc\":{\"kind\":\"user\",\"methods\":{},\"version\":1}},\"settings\":{\"compilationTarget\":{\"contracts/Facets/HyperFacet.sol\":\"HyperFacet\"},\"evmVersion\":\"paris\",\"libraries\":{},\"metadata\":{\"bytecodeHash\":\"ipfs\",\"useLiteralContent\":true},\"optimizer\":{\"enabled\":true,\"runs\":1},\"remappings\":[]},\"sources\":{\"contracts/Facets/HyperFacet.sol\":{\"content\":\"// SPDX-License-Identifier: MIT\\npragma solidity ^0.8.0;\\nimport \\\"./Hyperlane/IMailbox.sol\\\";\\nimport \\\"./Hyperlane/IInterchainGasPaymaster.sol\\\";\\n\\nlibrary HyperLib {\\n    bytes32 constant DIAMOND_STORAGE_POSITION =\\n        keccak256(\\\"diamond.hyperlane.storage\\\");\\n\\n    struct HyperState {\\n        address mailBox;\\n        address igp;\\n        address ism;\\n        mapping(uint256 => address) domainToAddress;\\n        uint256 counter;\\n    }\\n\\n    function diamondStorage() internal pure returns (HyperState storage ds) {\\n        bytes32 position = DIAMOND_STORAGE_POSITION;\\n        assembly {\\n            ds.slot := position\\n        }\\n    }\\n\\n    function setDomainToAddress(\\n        uint256 domainID,\\n        address recipentAddy\\n    ) internal {\\n        HyperState storage hyperState = diamondStorage();\\n        hyperState.domainToAddress[domainID] = recipentAddy;\\n    }\\n\\n    function getRecipient(uint256 domainID) internal view returns (address) {\\n        HyperState storage hyperState = diamondStorage();\\n        return hyperState.domainToAddress[domainID];\\n    }\\n\\n    function increaseCounter() internal {\\n        HyperState storage hyperState = diamondStorage();\\n        hyperState.counter = hyperState.counter + 1;\\n    }\\n\\n    function getCounter() internal view returns (uint256) {\\n        HyperState storage hyperState = diamondStorage();\\n        return hyperState.counter;\\n    }\\n\\n    function hitEmUp(uint32 targetDomain, uint256 gasAmount) internal {\\n        HyperState storage hyperState = diamondStorage();\\n        IMailbox MailBox = IMailbox(hyperState.mailBox);\\n        IInterchainGasPaymaster IGP = IInterchainGasPaymaster(hyperState.igp);\\n\\n        address targetAddress = hyperState.domainToAddress[targetDomain];\\n        bytes32 messageID = MailBox.dispatch(\\n            targetDomain,\\n            addressToBytes32(targetAddress),\\n            abi.encode(msg.sender)\\n        );\\n\\n        IGP.payForGas{value: msg.value}(\\n            messageID,\\n            targetDomain,\\n            gasAmount,\\n            msg.sender // refunds are returned to the sender\\n        );\\n    }\\n\\n    function addressToBytes32(address _addr) internal pure returns (bytes32) {\\n        return bytes32(uint256(uint160(_addr)));\\n    }\\n\\n    function interchainSecurityModule() internal view returns (address) {\\n        HyperState storage hyperState = diamondStorage();\\n        return hyperState.ism;\\n    }\\n\\n    function setMailBox(address maiLBox) internal {\\n        HyperState storage hyperState = diamondStorage();\\n        hyperState.mailBox = maiLBox;\\n    }\\n\\n    function setGasMaster(address localIGP) internal {\\n        HyperState storage hyperState = diamondStorage();\\n        hyperState.igp = localIGP;\\n    }\\n\\n    function setISM(address ism) internal {\\n        HyperState storage hyperState = diamondStorage();\\n        hyperState.ism = ism;\\n    }\\n}\\n\\ncontract HyperFacet {\\n    function handle() external {\\n        HyperLib.increaseCounter();\\n    }\\n\\n    function hitEmUp(uint32 domain, uint256 gasAmount) external payable {\\n        HyperLib.hitEmUp(domain, gasAmount);\\n    }\\n\\n    function interchainSecurityModule() external view returns (address) {\\n        return HyperLib.interchainSecurityModule();\\n    }\\n\\n    function setMailBox(address maiLBox) external {\\n        HyperLib.setMailBox(maiLBox);\\n    }\\n\\n    function setGasMaster(address localIGP) external {\\n        HyperLib.setGasMaster(localIGP);\\n    }\\n\\n    function setISM(address ism) external {\\n        HyperLib.setISM(ism);\\n    }\\n\\n    function getCounter() external view returns (uint256) {\\n        return HyperLib.getCounter();\\n    }\\n\\n    function setDomainToAddress(\\n        uint256 domainID,\\n        address recipentAddy\\n    ) external {\\n        HyperLib.setDomainToAddress(domainID, recipentAddy);\\n    }\\n}\\n\",\"keccak256\":\"0xde763a20e631e3115889b23428f1263df9267baf71ddf4910a2c8a8010d54179\",\"license\":\"MIT\"},\"contracts/Facets/Hyperlane/IInterchainGasPaymaster.sol\":{\"content\":\"// SPDX-License-Identifier: MIT OR Apache-2.0\\npragma solidity >=0.6.11;\\n\\n/**\\n * @title IInterchainGasPaymaster\\n * @notice Manages payments on a source chain to cover gas costs of relaying\\n * messages to destination chains.\\n */\\ninterface IInterchainGasPaymaster {\\n    /**\\n     * @notice Emitted when a payment is made for a message's gas costs.\\n     * @param messageId The ID of the message to pay for.\\n     * @param gasAmount The amount of destination gas paid for.\\n     * @param payment The amount of native tokens paid.\\n     */\\n    event GasPayment(\\n        bytes32 indexed messageId,\\n        uint256 gasAmount,\\n        uint256 payment\\n    );\\n\\n    function payForGas(\\n        bytes32 _messageId,\\n        uint32 _destinationDomain,\\n        uint256 _gasAmount,\\n        address _refundAddress\\n    ) external payable;\\n\\n    function quoteGasPayment(\\n        uint32 _destinationDomain,\\n        uint256 _gasAmount\\n    ) external view returns (uint256);\\n}\\n\",\"keccak256\":\"0xea5705377bcae5ff9dee6599d66f88c7e76a61169c2046a5efedcf4034354045\",\"license\":\"MIT OR Apache-2.0\"},\"contracts/Facets/Hyperlane/IMailbox.sol\":{\"content\":\"// SPDX-License-Identifier: MIT OR Apache-2.0\\npragma solidity >=0.8.0;\\n\\ninterface IMailbox {\\n    function dispatch(\\n        uint32 _destinationDomain,\\n        bytes32 _recipientAddress,\\n        bytes calldata _messageBody\\n    ) external returns (bytes32);\\n\\n    function process(\\n        bytes calldata _metadata,\\n        bytes calldata _message\\n    ) external;\\n}\\n\",\"keccak256\":\"0xa43ec8f0dc8cab47ed22e647d3df0863633ee6972d6e3de7c0716aa25e8251dd\",\"license\":\"MIT OR Apache-2.0\"}},\"version\":1}",
  "bytecode": "0x608060405234801561001057600080fd5b506105d3806100206000396000f3fe60806040526004361061006b5760003560e01c80632c2cd749146100705780635871836714610092578063759524ed146100a55780638ada066e146100c5578063cc4c515d146100ed578063de4a787f1461010d578063de523cf31461012d578063fd0da0991461014f575b600080fd5b34801561007c57600080fd5b5061009061008b366004610463565b610164565b005b6100906100a0366004610485565b610170565b3480156100b157600080fd5b506100906100c0366004610463565b61017e565b3480156100d157600080fd5b506100da610187565b6040519081526020015b60405180910390f35b3480156100f957600080fd5b506100906101083660046104ba565b610196565b34801561011957600080fd5b50610090610128366004610463565b6101a0565b34801561013957600080fd5b506101426101a9565b6040516100e491906104e6565b34801561015b57600080fd5b506100906101b3565b61016d816101bd565b50565b61017a82826101e9565b5050565b61016d81610333565b6000610191610362565b905090565b61017a8282610377565b61016d816103b1565b60006101916103e0565b6101bb6103fe565b565b60006101c7610423565b80546001600160a01b0319166001600160a01b03939093169290921790915550565b60006101f3610423565b8054600182015463ffffffff861660009081526003840160205260408120549394506001600160a01b039283169391831692909116908363fa31de0188843360405160200161024291906104e6565b6040516020818303038152906040526040518463ffffffff1660e01b815260040161026f939291906104fa565b6020604051808303816000875af115801561028e573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906102b2919061055d565b604051630237e58360e31b81526004810182905263ffffffff89166024820152604481018890523360648201529091506001600160a01b038416906311bf2c189034906084016000604051808303818588803b15801561031157600080fd5b505af1158015610325573d6000803e3d6000fd5b505050505050505050505050565b600061033d610423565b60010180546001600160a01b0319166001600160a01b03939093169290921790915550565b60008061036d610423565b6004015492915050565b6000610381610423565b600093845260030160205250604090912080546001600160a01b0319166001600160a01b03909216919091179055565b60006103bb610423565b60020180546001600160a01b0319166001600160a01b03939093169290921790915550565b6000806103eb610423565b600201546001600160a01b031692915050565b6000610408610423565b90508060040154600161041b9190610576565b600490910155565b7f34fbc1afd8e1b9169b38b6c80a52777e06873abc0d2b3f992f7608bdf1bf6ade90565b80356001600160a01b038116811461045e57600080fd5b919050565b60006020828403121561047557600080fd5b61047e82610447565b9392505050565b6000806040838503121561049857600080fd5b823563ffffffff811681146104ac57600080fd5b946020939093013593505050565b600080604083850312156104cd57600080fd5b823591506104dd60208401610447565b90509250929050565b6001600160a01b0391909116815260200190565b63ffffffff8416815260006020848184015260606040840152835180606085015260005b8181101561053a5785810183015185820160800152820161051e565b506000608082860101526080601f19601f83011685010192505050949350505050565b60006020828403121561056f57600080fd5b5051919050565b8082018082111561059757634e487b7160e01b600052601160045260246000fd5b9291505056fea26469706673582212203509374df1f6115495c102e6677a3855ebf00ac55b9befd30d78c46508879ab764736f6c63430008140033",
  "deployedBytecode": "0x60806040526004361061006b5760003560e01c80632c2cd749146100705780635871836714610092578063759524ed146100a55780638ada066e146100c5578063cc4c515d146100ed578063de4a787f1461010d578063de523cf31461012d578063fd0da0991461014f575b600080fd5b34801561007c57600080fd5b5061009061008b366004610463565b610164565b005b6100906100a0366004610485565b610170565b3480156100b157600080fd5b506100906100c0366004610463565b61017e565b3480156100d157600080fd5b506100da610187565b6040519081526020015b60405180910390f35b3480156100f957600080fd5b506100906101083660046104ba565b610196565b34801561011957600080fd5b50610090610128366004610463565b6101a0565b34801561013957600080fd5b506101426101a9565b6040516100e491906104e6565b34801561015b57600080fd5b506100906101b3565b61016d816101bd565b50565b61017a82826101e9565b5050565b61016d81610333565b6000610191610362565b905090565b61017a8282610377565b61016d816103b1565b60006101916103e0565b6101bb6103fe565b565b60006101c7610423565b80546001600160a01b0319166001600160a01b03939093169290921790915550565b60006101f3610423565b8054600182015463ffffffff861660009081526003840160205260408120549394506001600160a01b039283169391831692909116908363fa31de0188843360405160200161024291906104e6565b6040516020818303038152906040526040518463ffffffff1660e01b815260040161026f939291906104fa565b6020604051808303816000875af115801561028e573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906102b2919061055d565b604051630237e58360e31b81526004810182905263ffffffff89166024820152604481018890523360648201529091506001600160a01b038416906311bf2c189034906084016000604051808303818588803b15801561031157600080fd5b505af1158015610325573d6000803e3d6000fd5b505050505050505050505050565b600061033d610423565b60010180546001600160a01b0319166001600160a01b03939093169290921790915550565b60008061036d610423565b6004015492915050565b6000610381610423565b600093845260030160205250604090912080546001600160a01b0319166001600160a01b03909216919091179055565b60006103bb610423565b60020180546001600160a01b0319166001600160a01b03939093169290921790915550565b6000806103eb610423565b600201546001600160a01b031692915050565b6000610408610423565b90508060040154600161041b9190610576565b600490910155565b7f34fbc1afd8e1b9169b38b6c80a52777e06873abc0d2b3f992f7608bdf1bf6ade90565b80356001600160a01b038116811461045e57600080fd5b919050565b60006020828403121561047557600080fd5b61047e82610447565b9392505050565b6000806040838503121561049857600080fd5b823563ffffffff811681146104ac57600080fd5b946020939093013593505050565b600080604083850312156104cd57600080fd5b823591506104dd60208401610447565b90509250929050565b6001600160a01b0391909116815260200190565b63ffffffff8416815260006020848184015260606040840152835180606085015260005b8181101561053a5785810183015185820160800152820161051e565b506000608082860101526080601f19601f83011685010192505050949350505050565b60006020828403121561056f57600080fd5b5051919050565b8082018082111561059757634e487b7160e01b600052601160045260246000fd5b9291505056fea26469706673582212203509374df1f6115495c102e6677a3855ebf00ac55b9befd30d78c46508879ab764736f6c63430008140033",
  "devdoc": {
    "kind": "dev",
    "methods": {},
    "version": 1
  },
  "userdoc": {
    "kind": "user",
    "methods": {},
    "version": 1
  },
  "storageLayout": {
    "storage": [],
    "types": null
  }
}